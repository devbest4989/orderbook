/ top navigation
.top_nav
  .nav_menu
    %nav{:role => "navigation"}
      .nav.toggle
        %a#menu_toggle
          %i.fa.fa-bars
      %ul.nav.navbar-nav.navbar-right
        %li
          %a.user-profile.dropdown-toggle{"aria-expanded" => "false", "data-toggle" => "dropdown", :href => "javascript:;"}
            = image_tag current_user.avatar.url(:thumb)
            = current_user.full_name
            %span.fa.fa-angle-down
          %ul.dropdown-menu.dropdown-usermenu.pull-right
            %li
              = link_to edit_user_path(current_user.id) do
                %i.fa.fa-gear.pull-right
                Configuration
            %li
              = link_to "Profile", edit_user_path(current_user.id)                
            %li
              %a{:href => destroy_user_session_path() }
                %i.fa.fa-sign-out.pull-right
                Log Out
      #adv-search.input-group
        .input-group-btn
          .btn-group{:role => "group"}
            .dropdown.dropdown-lg
              %button.btn.btn-default.dropdown-toggle{"aria-expanded" => "false", "data-toggle" => "dropdown", :type => "button"}
                %span.glyphicon.glyphicon-search{"aria-hidden" => "true"}
              .dropdown-menu.dropdown-menu-right{:role => "menu"}
                .radio
                  %label
                    %input.flat{:checked => "checked", :name => "search_type", :type => "radio", :value => "so"}
                    Sales Order
                .radio
                  %label
                    %input.flat{:name => "search_type", :type => "radio", :value => "po"}
                    Purchase Order
                .radio
                  %label
                    %input.flat{:name => "search_type", :type => "radio", :value => "pr"}
                    Products
                .radio
                  %label
                    %input.flat{:name => "search_type", :type => "radio", :value => "sh"}
                    Shippment
                .radio
                  %label
                    %input.flat{:name => "search_type", :type => "radio", :value => "iv"}
                    Invoices
                .radio
                  %label
                    %input.flat{:name => "search_type", :type => "radio", :value => "bl"}
                    Bills
                .radio
                  %label
                    %input.flat{:name => "search_type", :type => "radio", :value => "cu"}
                    Customers
                .radio
                  %label
                    %input.flat{:name => "search_type", :type => "radio", :value => "su"}
                    Suppliers
                %hr
                .text-center
                  %a.advanced-link{href: "javascript:;"} Advanced Search
        %input.form-control.input-search{:placeholder => "Smart Search", :type => "text"}
        .input-group-btn
          .btn-group{:role => "group"}
            %button.btn.btn-search{:type => "button"}
              %span{"aria-hidden" => "true"}       
                Go
/ /top navigation
:javascript
  jQuery(document).ready(function() {
    function smartSearch(){
      var searchKey = $('.input-search').val();
      var searchType = $('input[name=search_type]:checked').val();

      var searchUrl = '';
      switch(searchType){
      case 'so':
        break;
      case 'po':
        break;
      case 'pr':
        searchUrl = '/products/all/list_products?key=' + searchKey;
        break;
      case 'sh':
        break;
      case 'iv':
        break;
      case 'bl':
        break;
      case 'cu':
        searchUrl = '/customers?key=' + searchKey;
        break;
      case 'su':
        searchUrl = '/suppliers?key=' + searchKey;
        break;
      }
      window.location.href = searchUrl;
    }

    $('.input-search').on('keyup', function (e) {
      if (e.keyCode == 13) {
        smartSearch();
      }
    });

    $('.btn-search').on('click', function(){
      smartSearch();
    });
  });